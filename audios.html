<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-adsense-account" content="ca-pub-9956121859043174">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Music Malawi Audio</title>

    <!-- Font Awesome CDN link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0eded;
            margin: 0;
            padding: 0;
            color: #333;
        }

        .navigation-bar {
            background-color: #333;
            color: #fff;
            padding: 15px;
            text-align: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .navigation-bar ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }

        .navigation-bar li {
            margin: 0 15px;
        }

        .navigation-bar a {
            color: #fff;
            text-decoration: none;
        }

        .logo img {
            max-width: 200px;
            height: auto;
        }

        #search-container {
            position: fixed;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            margin: 20px 0;
            z-index: 10;
            background-color: #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 30px;
            padding: 5px 10px;
        }

        .search-form {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .search-form input[type="text"] {
            padding: 10px;
            width: 300px;
            border-radius: 20px 0 0 20px;
            border: none;
            outline: none;
            background-color: #f7f7f7;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            font-size: 14px;
        }

        .search-form button {
            padding: 10px;
            border: none;
            border-radius: 0 20px 20px 0;
            background: linear-gradient(45deg, #333, #555);
            color: #fff;
            cursor: pointer;
        }

        .audio-list {
            list-style-type: none;
            padding: 0;
            margin: 20px auto;
            max-width: 800px;
            padding-top: 140px;
        }

        .audio-item {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #ddd;
            align-items: center;
        }

        .audio-thumbnail {
            width: 60px;
            height: 60px;
            border-radius: 5px;
            margin-right: 15px;
        }

        .audio-actions {
            display: flex;
            align-items: center;
        }

        .play-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #333;
            color: #fff;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }

        .download-link {
            display: inline-block;
            padding: 8px 15px;
            margin-left: 10px;
            background-color: #333;
            color: #fff;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
        }

        #current-audio {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #333;
            color: #fff;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Trending */
        .rank-number {
            font-size: 16px;
            font-weight: bold;
            color: #444;
            margin-top: 3px;
        }

        .trending-badge {
            display: none;
            background: #ff5722;
            color: white;
            padding: 3px 8px;
            font-size: 12px;
            border-radius: 5px;
            margin-top: 5px;
            width: fit-content;
        }

        .scroll-btn {
            position: fixed;
            right: 20px;
            z-index: 1000;
            padding: 10px;
            background-color: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }

        #scroll-up { bottom: 110px; }
        #scroll-down { bottom: 65px; }
    </style>

</head>

<body>

<header class="navigation-bar">
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="new audios.html">New Audios</a></li>
        <li><a href="contact.html">Contacts</a></li>
        <li><a href="submit.html">Submit</a></li>
    </ul>
    <br>
    <div class="logo">
        <img src="images/logo/AUDIO LOGO.png" alt="Logo">
    </div>
</header>

<!-- Search -->
<div id="search-container">
    <form class="search-form" onsubmit="return false;">
        <input type="text" id="search" placeholder="Search audios..." onkeyup="filterAudios()">
        <button type="submit"><i class="fas fa-search"></i></button>
    </form>
</div>

<!-- Audio List -->
<ul id="audio-list" class="audio-list">

    <li class="audio-item" data-title="Amidu Ellani UDIKIREBE">
        <div class="audio-info">
            <img class="audio-thumbnail" src="pic/artwork/12.jpg">
            <div class="audio-details">
                <div class="audio-title">Amidu Ellani UDIKIREBE</div>
                <div class="rank-number"></div>
                <div class="trending-badge">ðŸ”¥ Trending</div>
                <div class="audio-description">single</div>
            </div>
        </div>

        <div class="audio-actions">
            <audio src="audio/Amidu Ellani UDIKIREBE.mp3"></audio>
            <button class="play-btn" onclick="toggleAudio(this.previousElementSibling, this)">
                <i class="fas fa-play"></i>
            </button>
            <a href="audio/Amidu Ellani UDIKIREBE.mp3" download class="download-link">Download</a>
        </div>
    </li>

    <li class="audio-item" data-title="Namadingo & Gwamba ft Temwah & Lawi Mumapemphero">
        <div class="audio-info">
            <img class="audio-thumbnail" src="pic/artwork/13.jpg">
            <div class="audio-details">
                <div class="audio-title">Namadingo & Gwamba ft Temwah & Lawi Mumapemphero</div>
                <div class="rank-number"></div>
                <div class="trending-badge">ðŸ”¥ Trending</div>
                <div class="audio-description">single</div>
            </div>
        </div>

        <div class="audio-actions">
            <audio src="audio/Namadingo & Gwamba ft. Temwah & Lawi - Mumapemphero.mp3"></audio>
            <button class="play-btn" onclick="toggleAudio(this.previousElementSibling, this)">
                <i class="fas fa-play"></i>
            </button>
            <a href="audio/Namadingo & Gwamba ft. Temwah & Lawi - Mumapemphero.mp3" download class="download-link">Download</a>
        </div>
    </li>

    <li class="audio-item" data-title="Namadingo - Mmmh Mmm Mmmh">
        <div class="audio-info">
            <img class="audio-thumbnail" src="pic/artwork/14.jpg">
            <div class="audio-details">
                <div class="audio-title">Namadingo - Mmmh Mmm Mmmh</div>
                <div class="rank-number"></div>
                <div class="trending-badge">ðŸ”¥ Trending</div>
                <div class="audio-description">single</div>
            </div>
        </div>

        <div class="audio-actions">
            <audio src="audio/Namadingo - Mmmh Mmm Mmmh.mp3"></audio>
            <button class="play-btn" onclick="toggleAudio(this.previousElementSibling, this)">
                <i class="fas fa-play"></i>
            </button>
            <a href="audio/Namadingo - Mmmh Mmm Mmmh.mp3" download class="download-link">Download</a>
        </div>
    </li>
	
	<li class="audio-item" data-title="Kell Kay x Aidfest & Kineo Ft Kambwiri sisters Holy water">
        <div class="audio-info">
            <img class="audio-thumbnail" src="pic/artwork/15.jpg">
            <div class="audio-details">
                <div class="audio-title">Kell Kay x Aidfest & Kineo Ft Kambwiri sisters Holy water</div>
                <div class="rank-number"></div>
                <div class="trending-badge">ðŸ”¥ Trending</div>
                <div class="audio-description">single</div>
            </div>
        </div>

        <div class="audio-actions">
            <audio src="audio/Kell Kay x Aidfest & Kineo Ft Kambwiri sisters Holy water.mp3"></audio>
            <button class="play-btn" onclick="toggleAudio(this.previousElementSibling, this)">
                <i class="fas fa-play"></i>
            </button>
            <a href="audio/Kell Kay x Aidfest & Kineo Ft Kambwiri sisters Holy water.mp3" download class="download-link">Download</a>
        </div>
    </li>
	
	<li class="audio-item" data-title="Gwamba Mukadalitsa feat Praise Umali & Kambwiri Sisters">
        <div class="audio-info">
            <img class="audio-thumbnail" src="pic/artwork/16.jpg">
            <div class="audio-details">
                <div class="audio-title">Gwamba Mukadalitsa feat Praise Umali & Kambwiri Sisters</div>
                <div class="rank-number"></div>
                <div class="trending-badge">ðŸ”¥ Trending</div>
                <div class="audio-description">single</div>
            </div>
        </div>

        <div class="audio-actions">
            <audio src="audio/Gwamba Mukadalitsa feat Praise Umali & Kambwiri Sisters.mp3"></audio>
            <button class="play-btn" onclick="toggleAudio(this.previousElementSibling, this)">
                <i class="fas fa-play"></i>
            </button>
            <a href="audio/Gwamba Mukadalitsa feat Praise Umali & Kambwiri Sisters.mp3" download class="download-link">Download</a>
        </div>
    </li>

</ul>

<div id="current-audio">
    <span id="current-audio-title">Currently Playing: None</span>
    <button class="play-btn" onclick="toggleCurrentAudio()">
        <i class="fas fa-play" id="current-audio-icon"></i>
    </button>
</div>

<button id="scroll-up" class="scroll-btn" onclick="scrollUp()">â†‘</button>
<button id="scroll-down" class="scroll-btn" onclick="scrollDown()">â†“</button>

<script>

let currentAudio = null;

/* ----------------------------------
   FILTER AUDIO
---------------------------------- */
function filterAudios() {
    const input = document.getElementById('search').value.toLowerCase();
    const audioItems = document.querySelectorAll('.audio-item');
    audioItems.forEach(item => {
        const title = item.getAttribute('data-title').toLowerCase();
        item.style.display = title.includes(input) ? '' : 'none';
    });
}

/* ----------------------------------
   SCROLL BUTTONS
---------------------------------- */
function scrollUp() { window.scrollBy(0, -200); }
function scrollDown() { window.scrollBy(0, 200); }

/* ----------------------------------
   PLAY / PAUSE LOGIC
---------------------------------- */
function toggleAudio(audioElement, buttonElement) {

    if (currentAudio && currentAudio !== audioElement) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        document.querySelectorAll(".play-btn i").forEach(i =>
            i.classList.replace("fa-pause", "fa-play")
        );
    }

    currentAudio = audioElement;

    let title = audioElement.parentElement.parentElement.querySelector(".audio-title").textContent;

    saveLastPlayedTitle(title);

    if (audioElement.paused) {
        audioElement.play();
        buttonElement.querySelector("i").classList.replace("fa-play","fa-pause");
        document.getElementById("current-audio-title").textContent = "Currently Playing: " + title;
        document.getElementById("current-audio-icon").classList.replace("fa-play", "fa-pause");
    } else {
        audioElement.pause();
        buttonElement.querySelector("i").classList.replace("fa-pause","fa-play");
        document.getElementById("current-audio-icon").classList.replace("fa-pause", "fa-play");
    }
}

/* =====================================================
   AUTO PLAY NEXT BASED ON LAST PLAYED SONG TITLE
   ===================================================== */

function saveLastPlayedTitle(title) {
    localStorage.setItem("lastPlayedTitle", title);
}

function getLastPlayedTitle() {
    return localStorage.getItem("lastPlayedTitle");
}

function getAllAudioItems() {
    return Array.from(document.querySelectorAll(".audio-item"));
}

let audioElements = Array.from(document.querySelectorAll(".audio-item audio"));

/* NEXT SONG WHEN ONE ENDS */
audioElements.forEach((audio, index) => {
    audio.addEventListener("ended", () => {
        let items = getAllAudioItems();

        let nextIndex = index + 1;
        if (nextIndex >= items.length) nextIndex = 0;

        let nextAudio = items[nextIndex].querySelector("audio");
        let nextTitle = items[nextIndex].querySelector(".audio-title").textContent;

        saveLastPlayedTitle(nextTitle);

        nextAudio.play();

        document.querySelectorAll(".play-btn i").forEach(i =>
            i.classList.replace("fa-pause", "fa-play")
        );

        let btn = nextAudio.parentElement.querySelector(".play-btn i");
        btn.classList.replace("fa-play", "fa-pause");

        document.getElementById("current-audio-title").textContent =
            "Currently Playing: " + nextTitle;
        document.getElementById("current-audio-icon").classList.replace("fa-play", "fa-pause");
    });
});

/* AUTO START LAST PLAYED WHEN PAGE LOADS */
window.addEventListener("load", () => {
    let lastTitle = getLastPlayedTitle();
    if (!lastTitle) return;

    let items = getAllAudioItems();
    let found = items.find(item =>
        item.querySelector(".audio-title").textContent === lastTitle
    );

    if (found) {
        let audio = found.querySelector("audio");
        let btn = found.querySelector(".play-btn i");
        audio.play();
        btn.classList.replace("fa-play", "fa-pause");

        document.getElementById("current-audio-title").textContent =
            "Currently Playing: " + lastTitle;
        document.getElementById("current-audio-icon").classList.replace("fa-play", "fa-pause");
    }
});

/* CONTROL VIA BOTTOM PLAYER */
function toggleCurrentAudio() {
    if (!currentAudio) return;
    if (currentAudio.paused) {
        currentAudio.play();
        document.getElementById("current-audio-icon").classList.replace("fa-play", "fa-pause");
    } else {
        currentAudio.pause();
        document.getElementById("current-audio-icon").classList.replace("fa-pause", "fa-play");
    }
}

</script>

</body>
</html>
